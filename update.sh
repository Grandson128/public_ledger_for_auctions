#!/bin/bash
apt update | apt upgrade -y
apt install git openjdk-11-jdk -y

git clone -b v1.55.1 --depth 1 https://github.com/grpc/grpc-java

echo "-----BEGIN OPENSSH PRIVATE KEY-----
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
-----END OPENSSH PRIVATE KEY-----" > ~/.ssh/id_rsa

chmod 600 ~/.ssh/id_rsa

mkdir /home/PublicLedgerAuctions
cd /home/PublicLedgerAuctions

# tem que se colocar a chaves no github a mao
git clone git@github.com:DiinoAlmeida/Public-Ledger-for-Auctions.git

response=$(curl -s https://ipinfo.io/json)
ip=$(echo "$response" | grep -o '"ip": "[^"]*' | cut -d'"' -f4)


./run.sh $ip 1700
#./runBoot $ip
